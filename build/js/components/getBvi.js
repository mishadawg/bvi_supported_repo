"use strict";

$(document).ready(function () {
  var settings = {
    target: '.bvi-open',
    theme: "white",
    letterSpacing: "normal",
    lineHeight: "normal",
    reload: false,
    panelFixed: false,
    speech: false,
    panelHide: false,
    images: 'grayscale',
    builtElements: true
  };
  new isvek.Bvi(settings);

  // Функция тогглер
  function bviAddingToogleClass(item) {
    if ($(item).length) {
      if ($(item).hasClass('bvi-no-styles')) {
        $(item).removeClass('bvi-no-styles');
      } else {
        $(item).addClass('bvi-no-styles');
      }
    }
  }
  ;
  function iteratingArrayOfElementsToExclude(array) {
    array.forEach(function (element) {
      bviAddingToogleClass(element);
    });
  }

  // Листнер изменения класса у элемента
  $.fn.onClassChange = function (cb) {
    return $(this).each(function (_, el) {
      new MutationObserver(function (mutations) {
        mutations.forEach(function (mutation) {
          return cb && cb(mutation.target, $(mutation.target).prop(mutation.attributeName));
        });
      }).observe(el, {
        attributes: true,
        attributeFilter: ['class']
      });
    });
  };

  // Перечисление элементов,которым нужно добавить исключение в стилях применяемых плагином bvi
  // добавить .bvi-no-styles(оставляет оригинальные стили элемента).
  var arrayOfSelectors = ['.indexPage-block-nostyle'];

  // Подвязываемся к изменениям боди
  var bodyCheck = $("body").onClassChange(function (el, newClass) {
    iteratingArrayOfElementsToExclude(arrayOfSelectors);
  });

  // Включен ли режим для слабовидящих или нет
  var valueOfCookieBvi = isvek.getCookie('panelActive');
  if (valueOfCookieBvi) {
    iteratingArrayOfElementsToExclude(arrayOfSelectors);
  }
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy9nZXRCdmkuanMiLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsInNldHRpbmdzIiwidGFyZ2V0IiwidGhlbWUiLCJsZXR0ZXJTcGFjaW5nIiwibGluZUhlaWdodCIsInJlbG9hZCIsInBhbmVsRml4ZWQiLCJzcGVlY2giLCJwYW5lbEhpZGUiLCJpbWFnZXMiLCJidWlsdEVsZW1lbnRzIiwiaXN2ZWsiLCJCdmkiLCJidmlBZGRpbmdUb29nbGVDbGFzcyIsIml0ZW0iLCJsZW5ndGgiLCJoYXNDbGFzcyIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJpdGVyYXRpbmdBcnJheU9mRWxlbWVudHNUb0V4Y2x1ZGUiLCJhcnJheSIsImZvckVhY2giLCJlbGVtZW50IiwiZm4iLCJvbkNsYXNzQ2hhbmdlIiwiY2IiLCJlYWNoIiwiXyIsImVsIiwiTXV0YXRpb25PYnNlcnZlciIsIm11dGF0aW9ucyIsIm11dGF0aW9uIiwicHJvcCIsImF0dHJpYnV0ZU5hbWUiLCJvYnNlcnZlIiwiYXR0cmlidXRlcyIsImF0dHJpYnV0ZUZpbHRlciIsImFycmF5T2ZTZWxlY3RvcnMiLCJib2R5Q2hlY2siLCJuZXdDbGFzcyIsInZhbHVlT2ZDb29raWVCdmkiLCJnZXRDb29raWUiXSwic291cmNlcyI6WyJjb21wb25lbnRzL2dldEJ2aS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIGxldCBzZXR0aW5ncyA9IHtcbiAgICB0YXJnZXQ6ICcuYnZpLW9wZW4nLFxuICAgIHRoZW1lOiBcIndoaXRlXCIsXG4gICAgbGV0dGVyU3BhY2luZzogXCJub3JtYWxcIixcbiAgICBsaW5lSGVpZ2h0OiBcIm5vcm1hbFwiLFxuICAgIHJlbG9hZDogZmFsc2UsXG4gICAgcGFuZWxGaXhlZDogZmFsc2UsXG4gICAgc3BlZWNoOiBmYWxzZSxcbiAgICBwYW5lbEhpZGU6IGZhbHNlLFxuICAgIGltYWdlczogJ2dyYXlzY2FsZScsXG4gICAgYnVpbHRFbGVtZW50czogdHJ1ZSxcbiAgfTtcblxuICBuZXcgaXN2ZWsuQnZpKHNldHRpbmdzKVxuXG4gIC8vINCk0YPQvdC60YbQuNGPINGC0L7Qs9Cz0LvQtdGAXG4gIGZ1bmN0aW9uIGJ2aUFkZGluZ1Rvb2dsZUNsYXNzKGl0ZW0pIHtcbiAgICBpZiAoJChpdGVtKS5sZW5ndGgpIHtcbiAgICAgIGlmICgkKGl0ZW0pLmhhc0NsYXNzKCdidmktbm8tc3R5bGVzJykpIHtcbiAgICAgICAgJChpdGVtKS5yZW1vdmVDbGFzcygnYnZpLW5vLXN0eWxlcycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJChpdGVtKS5hZGRDbGFzcygnYnZpLW5vLXN0eWxlcycpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBpdGVyYXRpbmdBcnJheU9mRWxlbWVudHNUb0V4Y2x1ZGUoYXJyYXkpIHtcbiAgICBhcnJheS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgYnZpQWRkaW5nVG9vZ2xlQ2xhc3MoZWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICAvLyDQm9C40YHRgtC90LXRgCDQuNC30LzQtdC90LXQvdC40Y8g0LrQu9Cw0YHRgdCwINGDINGN0LvQtdC80LXQvdGC0LBcbiAgJC5mbi5vbkNsYXNzQ2hhbmdlID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgcmV0dXJuICQodGhpcykuZWFjaCgoXywgZWwpID0+IHtcbiAgICAgIG5ldyBNdXRhdGlvbk9ic2VydmVyKG11dGF0aW9ucyA9PiB7XG4gICAgICAgIG11dGF0aW9ucy5mb3JFYWNoKG11dGF0aW9uID0+IGNiICYmIGNiKG11dGF0aW9uLnRhcmdldCwgJChtdXRhdGlvbi50YXJnZXQpLnByb3AobXV0YXRpb24uYXR0cmlidXRlTmFtZSkpKTtcbiAgICAgIH0pXG4gICAgICAgIC5vYnNlcnZlKGVsLCB7XG4gICAgICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgICAgICBhdHRyaWJ1dGVGaWx0ZXI6IFsnY2xhc3MnXVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyDQn9C10YDQtdGH0LjRgdC70LXQvdC40LUg0Y3Qu9C10LzQtdC90YLQvtCyLNC60L7RgtC+0YDRi9C8INC90YPQttC90L4g0LTQvtCx0LDQstC40YLRjCDQuNGB0LrQu9GO0YfQtdC90LjQtSDQsiDRgdGC0LjQu9GP0YUg0L/RgNC40LzQtdC90Y/QtdC80YvRhSDQv9C70LDQs9C40L3QvtC8IGJ2aVxuICAvLyDQtNC+0LHQsNCy0LjRgtGMIC5idmktbm8tc3R5bGVzKNC+0YHRgtCw0LLQu9GP0LXRgiDQvtGA0LjQs9C40L3QsNC70YzQvdGL0LUg0YHRgtC40LvQuCDRjdC70LXQvNC10L3RgtCwKS5cbiAgbGV0IGFycmF5T2ZTZWxlY3RvcnMgPSBbXG4gICAgJy5pbmRleFBhZ2UtYmxvY2stbm9zdHlsZScsXG4gIF07XG5cbiAgLy8g0J/QvtC00LLRj9C30YvQstCw0LXQvNGB0Y8g0Log0LjQt9C80LXQvdC10L3QuNGP0Lwg0LHQvtC00LhcbiAgbGV0IGJvZHlDaGVjayA9ICQoXCJib2R5XCIpLm9uQ2xhc3NDaGFuZ2UoKGVsLCBuZXdDbGFzcykgPT4ge1xuICAgIGl0ZXJhdGluZ0FycmF5T2ZFbGVtZW50c1RvRXhjbHVkZShhcnJheU9mU2VsZWN0b3JzKTtcbiAgfSk7XG5cbiAgLy8g0JLQutC70Y7Rh9C10L0g0LvQuCDRgNC10LbQuNC8INC00LvRjyDRgdC70LDQsdC+0LLQuNC00Y/RidC40YUg0LjQu9C4INC90LXRglxuICBsZXQgdmFsdWVPZkNvb2tpZUJ2aSA9IGlzdmVrLmdldENvb2tpZSgncGFuZWxBY3RpdmUnKTtcbiAgaWYgKHZhbHVlT2ZDb29raWVCdmkpIHtcbiAgICBpdGVyYXRpbmdBcnJheU9mRWxlbWVudHNUb0V4Y2x1ZGUoYXJyYXlPZlNlbGVjdG9ycyk7XG4gIH1cbn0pOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsQ0FBQyxDQUFDQyxRQUFRLENBQUMsQ0FBQ0MsS0FBSyxDQUFDLFlBQVk7RUFDNUIsSUFBSUMsUUFB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
